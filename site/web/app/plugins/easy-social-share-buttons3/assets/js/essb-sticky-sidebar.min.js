!function(e){e.fn.stickySidebar=function(t){var o=e.extend({headerSelector:".essb_sidebar_start_scroll",navSelector:"nav",contentSelector:"#content",footerSelector:".essb_sidebar_break_scroll",sidebarTopMargin:100,footerThreshold:40,defaultTop:"25%"},t),r=e(document).height(),i=e(o.footerSelector).outerHeight(),s=e(window).height(),n=r-i-s/2,c=function(){var t=e(this),r=e(window).height(),i=(e(window).width(),e(document).height(),e(o.headerSelector).outerHeight()),s=e(o.navSelector).outerHeight(),c=t.outerHeight(),d=e(o.contentSelector).outerHeight(),l=(e(o.footerSelector).outerHeight(),e(window).scrollTop()),a=i+s;if(d>c&&r>c)if(a>l)t.addClass("sticky").css("top",o.defaultTop);else if(l>=a&&n>l)t.addClass("sticky").css("top",o.defaultTop);else{var h=n-l;t.addClass("sticky").css("top",h)}};return this.each(function(){e(window).on("scroll",e.proxy(c,this)),e(window).on("resize",e.proxy(c,this)),e.proxy(c,this)()})}}(jQuery);